## 1.4 默认模板实参

你也可以为模板参数设定默认值. 其被称之为默认模板实参, 并且可以被用于任何模板. 其甚至可以涉及前面的参数.

举个例子, 如果你想在能够接受多个参数类型的情况下,将其结合并定义为返回类型(正如本节之前讨论的一样), 你可以引入一个模板参数`RT`作为返回类型并将两者的共同类型设为默认类型, 这次我们依然有多种写法:

1. 我们可以直接使用`?:`操作符. 然而, 因为我们必须在调用参数`a`和`b`被声明之前就使用`?:`操作符, 我们只能使用其类型:

   ```cpp
   // basics/maxdefault1.hpp
   
   #include <type_traits>
   template<typename T1, Typename T2,
   		typename RT = std::decay_t<decltype(true? T1():T2())>>
   RT max (T1 a, T2 b)
   {
   	return b < a ? a : b;
   }
   ```

   再次注意此处使用了`std::decay_t<>`以确保不会返回引用.

   并且我们需要注意到, 这种实现需要我们可以调用传入类型的默认构造函数. 还有另外一种解决方案, 就是使用`std::declval`, 但它会使声明变得更加复杂, 详见第11.2的例子.

2. 我们也可以使用`std::commom_type<>`类型萃取指定返回值的默认类型:

   ```cpp
   // basics/maxdafault3.hpp
   
   #include <type_traits>
   template<typename T1, typenam T2,
   		typename RT = std::common_type<T1, T2>>
   RT max (T1 a, T2 b)
   {
   	return b < a ? a : b;
   }
   ```

   再次注意, 这种写法也会对返回类型进行退化以防止其返回值变成引用.

当然在所有用例下, 作为调用者, 你现在就可以使用默认值作为返回类型.

```cpp
auto a = ::max(4, 7.2);
```





### 未完成

